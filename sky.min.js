window.addEventListener("load",(()=>{setTimeout((()=>{a.go(e.screen)}),10)})),Game.city={entrance:()=>{const e=m.rebnah.hasMet?"Rebnah":"hologram";o("\n        \n        Not far from the hill where your spaceship crashed stands a tall white stone wall surrounded by a thin brown line of a moat. A narrow bridge\n        leads over the moat to an arched open gate made of brass and crystal. Beyond the gate is a sleepy little village.\n        \n        "),m.rebnah.hasMet?o("\n        \n        Rebnah the greeter hologram waves to you cheerily, which is impressive considering her vast quantity of arms.\n        \n        "):h("\n        \n        One of those weird greeter holograms has popped out of thin air. She has numerous arms in inconvenient places and \n        a noggin which resembles that of a reasonably pleased purple rhinoceros.\n        \n        ","\n        \n        That greeter hologram is trying to get your attention. She has numerous arms in inconvenient places and \n        a noggin which resembles that of a reasonably pleased purple rhinoceros.\n        \n        "),s(`Chat with ${e}`,(()=>l(m.rebnah.intro))),s("Head up the hill",(()=>l(m.myShip.outside))),s("Enter the city",(()=>l(m.myShip.outside)))}},Game.intro={firstPage:()=>{o("\n        \n        There's a sound. It's not good. Your brain, still steeped in hyper-sleep chemicals, has come round to the point\n        where you're awake and something has gone woefully awry.\n\n        It's an alarm. An alarm is ringing from the engine.\n\n        The hyper-sleep containment unit swings open and your feet find the cold metal floor. The air of your ship is \n        thick with smoke.\n\n        You make out some text in screamy caps on a command display:\n\n        ALL SYSTEMS FAILED\n\n        COLLISION WITH PLANET SNORLAG IMMINENT\n\n        WE'RE ALL GONNA DIE!!\n\n        "),s("Ugghh... It's too early for an emergency...",(()=>l(m.intro.secondPage)))},secondPage:()=>{o("\n        \n        Then another sound: this one is sudden and shakes the entire ship. You grasp a bulkhead and nearly slice your fingers on\n        the cheap titanium bolts holding your ship together. Another shake, like being inside a dump truck that's currently\n        in the process of traversing to Mars by catapult.\n\n        After that, everything is still. The alarm is still ringing. Your engineer, and the only member of your crew, Yates,\n        emerges into your still blurry vision.\n        \n        "),s("Yates! What happened?",(()=>l(m.intro.thirdPage)))},thirdPage:()=>{o('\n        \n        "Sorry, boss," said Yates with a noisy slurp. He was drinking something. Slowly it dawned on you; it was a ginormous can of raspberry soda pop,\n        festooned with a cherry-red flamingo straw.\n\n        "Not sure how it happened, but somebody got raspberry soda all over the engine core. Had to make an emergency landing till\n        we can fix this rig. Shouldn\'t be more than a couple of weeks.\n        \n        '),s("Did you say two weeks?",(()=>l(m.myShip.outside)))}},Game.rebnah={hasMet:!1,hasTheToken:!1,intro:()=>{m.rebnah.hasMet=!0,m.rebnah.hasTheToken=!0,h('\n\n        "Welcome, greetings, and many happy *frojniks* to you, off-worlder!" said the hologram with a smile. She wears a hat\n        with the words Ask Me About My Home Planet embroidered in large red letters.\n\n        "I welcome you to Planet Snorlag, the friendliest world this side of Mutter\'s Third Arm! My name is Rebnah—pleased to meet you! I am\n        here to make sure your stay is simply Snor-tastic!"\n\n        With a wave of her suckered hand, something cold and metallic materializes in your pocket. "Be sure to read the fine print on that token!" she said.\n        \n        ','\n        \n        Rebnah the hologram watches you with great enthusiasm. "What can I do to make your stay even more *Snor-mazing*?"\n        \n        '),s("Tell me about your home planet",(()=>{h("\n      \n      \"Oh boy, I can't wait to tell you all about SNORLAG!\" said Rebnah with breathless enthusiasm. “Though, there's not much happening right\n      now. You see, the two primary species of this planet—Kevoriians and Zogtarians—are at odds with each other and they've reached a stalemate.\n      The Kevoriians have a Reality-Time Detonator, which will wipe out all life in the universe, and the Zogtarians have a Time-Reality Detonator,\n      which will prevent all life from ever existing in the first place.\n      \n      “So there's nobody really here right now, everybody is down at the festival trying to get one last party in before all of\n      time and space crashes in on itself.”\n      \n      ","\n\n      “Not much happening today. The Kevoriians and Zogtarians are about to destroy us all.\n      The Kevoriians have a Reality-Time Detonator, which will wipe out all life in the universe, and the Zogtarians have a Time-Reality Disruptor,\n      which will prevent all life from ever existing in the first place.\n      \n      “So everybody is down at the festival trying to get one last party in. I'm a hologram, so technically I never existed in the first place.”\n      \n      ")})),s("What species are you?",'\n    \n    "I\'m a hologram, and not designed to mimic one species per se. Actually, my physical form was designed by committee. They gave me the\n    most arms ever, so I give the best hugs!" She pauses and looks down at her numerous appendages. "Though, I\'ll admit, finding\n    compatible sweaters is a challenge."\n    \n    '),m.rebnah.hasTheToken&&r("Read the token",(()=>{o('\n                \n                ADMIT TWO FOR COMPLIMENTARY SHOW AT SNORLAGIAN CINEMAS\n\n                Down below, in the fine print, you notice the token expired around ten Earth years ago.\n\n                Rebnah spies you reading the token. "Not bad, huh? Sounds like a great time when you make a new friend on our \n                planet!" Then she leans in close. "Strictly between you and me, never date a Kevoriian. They\'re technically mollusks,\n                and their ichorous secretions are poisonous to humanoids. Also, they\'re slimy kissers.\n                \n                ')})),c("See you later")}},Game.spaceKing={preventWar:!1,intro:()=>{h('\n        \n        A man stands before you, but more than merely a man. He reminds you of a mix of Hercules and Adonis, only ten times more\n        ripped. His solemn expression smacks of both seriousness and kind benevolence.\n\n        "Greetings," he said in rich theatrical tones. He paused for effect. "I am a nearly omnipotent entity in a form you are\n        assuredly comfortable with. My name... is Space King."\n\n        The stars above seem to whisper "Space King" in hushed tones as he says the words.\n        \n        ',"\n        \n        Space King stands before you, clad in a magnificent chartreuse toga. He favors you with a gaze of kindly regard befitting a much lesser life form.\n\n        "),r("Never heard of you",'\n        \n        Space King\'s eyes light with a kind of greenish fire that gives you a slight tremble. "Well," he said, "Like as not, I\'m very important."\n        \n        '),s("Nice to meet you",'\n        \n        "It is, isn\'t it," said Space King. "It is very nice to meet me, of course. I\'m thinking of adding a dash to my name. You know,\n        Space-King. It sounds more grand and purposeful." His hair blows majestically in the wind.\n        \n        '),r("What's the most impressive thing you've ever done?",(()=>{o('\n        \n        Space King scratches his chin. "I could spend many of your lifetimes narrowing my finest accomplishments into a manageable form\n        for the likes of you. But, here\'s a quick one. I once made an entirely sentient pie."\n        \n        '),s("Did you have the moral right to create a living thing?",(()=>{o('\n          \n          "I don\'t know," responded the Space King, "But, I do know this: he was delicious."\n          \n          ')})),s("What kind of pie was it?",(()=>{o('\n          \n          "I already told you, it was a *sentient*—oh, you mean the filling. Banana creme, the noblest of\n          all pies."\n          \n          ')}))})),m.spaceKing.preventWar&&s("So what are you doing to prevent war?",'\n              \n              "Sadly, very little at the moment," said Space King, "For my rheumatism is getting the better of me right now.\n              That\'s why I\'m standing by this lake, attempting to get some fresh air."\n              \n              '),r("What are you doing *here* of all places?",(()=>{m.spaceKing.preventWar=!0,o('\n        \n        "A fair question," nodded Space King. “After all, why should a being of my incredible talent be relegated to dealing with such limited\n        mortals?\n\n        “Well, the answer is simple. Any second, war will erupt on this planet that will engulf the universe. My role is to prevent billions\n        from dying. The catastrophe about to take place is potentially greater than that of Smellus IV.”\n        \n        '),s("Smellus IV?",'\n        \n            “Ah, Smellus IV. The indigenous creatures had no vocal cords, so their whole civilization learned to communicate with finely \n            honed intestinal odors. In a stupendously bad bit of schedule overlap, the Great Interstellar Peace Talks on Smellus took place on\n            Taco Tuesday.\n\n            “Then, in an attempt to resume the Talks, a well-intentioned but misguided diplomat purchased an elaborate catered lunch\n            for the entire event, from Arby\'s.” Space King shook his head. "Tragic." \n        \n        ')})),c("A pleasure to talk to you, oh Space King")}},Game.myShip={stillHere:!0,cockpit:()=>{o("\n        \n            Your command chair is surrounded by an array of screens, lights and controls telling you every detail\n            of what's happening on your ship. Right now, they're all very upset for some reason. A distant alarm\n            echoes from the engine cavity. A sturdy metal ladder descends to the main deck.\n\n        "),s("Climb down to the Main Deck",(()=>l(m.myShip.mainDeck))),s("Sit in the chair","You sit in the command chair and feel very heroic."),s("Look out the window","The purple sky and distant golden mountains don't resemble any planet you've visited before.")},mainDeck:()=>{o("\n    \n    This part of the ship is the least damaged—it's a pretty good thing you were here during the crash. The hyper-sleep pod is depowered,\n    along with most everything else on this deck. Yates will probably have all the systems on and off about a hundred times before\n    we can limp to a repair shop.\n    \n    "),s("Go to the cockpit",(()=>l(m.myShip.cockpit))),s("Exit the ship",(()=>l(m.myShip.outside)))},outside:()=>{m.myShip.stillHere&&(o("\n    \n    Your ship lies in a crumpled heap at the top of a hill. Yates is kneeled next to an open panel, attempting repairs. A winding\n    path leads down to a humble little village.\n    \n    "),s("Hey, Yates",(()=>l(m.yates.intro))),s("Enter the ship",(()=>l(m.myShip.mainDeck)))),s("Go down to the village",(()=>l(m.city.entrance)))}};const e={screen:()=>{o("\n        \n            <h1>We Might All Die on Snorlag</h1>\n            <h3>A game by spaceflounder</h3>\n\n        "),s("Start",(()=>{m={...Game},l(m.intro.firstPage)})),s("About",(()=>a.go(e.about)))},about:()=>{o('\n\n            Why is Space King hanging around on the Planet Snorlag? Is all life in (our) universe about to end? And who would win:\n            a faster-than-light spaceship, or a seagull?\n\n            These and other salient questions will be answered after your craft makes a sudden "emergency landing." Have you ever\n            wanted to save the universe? Don\'t kiss any Kevoriians, now.\n\n        '),s("OK Then",(()=>l(e.screen)))}};Game.yates={askedAboutName:!1,intro:()=>{const e=m.yates.askedAboutName?"Tell me again why your name is Yates":"So, I've never asked: why are you named *Yates*?";o("\n        \n        Yates, your second hand man (literally), is the kind of android who is made up in part of cut-rate biological components,\n        which he sustains with junk food for their massive levels of hydrocarbons. Thus, he constantly smells vaguely of\n        processed cheese dust.\n    \n        Presently, he's trying to salvage what's left of your engine, landing gear, power cell, and\n        emergency seagull repellent.\n        \n        "),s(e,(()=>{m.yates.askedAboutName=!0,o('\n                \n                "Actually," said Yates, "My true designation is YOT-C. I actually don\'t remember when I started going by\n                Yates. I suspect an earlier employer couldn\'t pronounce the C, but that was too many memory wipes ago."\n                \n                ')})),c("Well, keep working, we've got to get off this rock")}};const n={backButtonHidden:!1,clear:()=>{document.getElementById("Buttons").innerHTML=""},displayOnce:(e,a)=>{const o=`d${function(){var n=0;if(0==e.length)return n;for(i=0;i<e.length;i++)char=e.charCodeAt(i),n=(n<<5)-n+char,n&=n;return n}()}`;m[o]||n.add(e,(()=>{m[o]=!0,"string"==typeof a?t.set(a):a()}))},add:(e,o)=>{const i=document.getElementById("Buttons");if(i){e=e.trim();const s=document.createElement("button");s.onclick=()=>{t.clear(),n.clear(),n.backButtonHidden=!1,window.scrollTo(0,0),"string"==typeof o?t.set(o):o(),n.backButtonHidden||n.add("Back",(()=>{a.go(a.lastCallback)})),n.backButtonHidden=!0},s.className="Choice",s.innerHTML=u(e),i.appendChild(s)}}},t={clear:()=>{document.getElementById("Output").innerHTML=""},add:e=>{const n=document.getElementById("Output");if(n){e=e.split("\n").map((e=>e.trim())).join("\n").split("\n\n").filter((e=>""!==e));for(const t of e){const e=document.createElement("p");e.innerHTML=u(t),n.appendChild(e)}}},set:e=>{t.clear(),t.add(e)}},a={lastCallback:()=>{},lastRoomCallback:()=>{},go:e=>{n.backButtonHidden=!0,e(),a.lastRoomCallback=a.lastCallback,a.lastCallback=e}},o=e=>t.add(e),s=(e,t)=>n.add(e,t),r=(e,t)=>n.displayOnce(e,t),l=e=>a.go(e),h=(e,n)=>((e,n)=>{const t=`i${function(){var n=0;if(0==e.length)return n;for(i=0;i<e.length;i++)char=e.charCodeAt(i),n=(n<<5)-n+char,n&=n;return n}()}`;m[t]?Array.isArray(n)?d(n):o(n):(m[t]=!0,o(e))})(e,n),d=e=>(e=>{const n=function(e){let n,t=e.length;for(;0!=t;)n=Math.floor(Math.random()*t),t--,[e[t],e[n]]=[e[n],e[t]];return e}([...e]);o(n[0])})(e),c=e=>n.add(e,(()=>a.go(a.lastRoomCallback)));var m={};const u=e=>{const n={quote:!0,bold:!0,italic:!0},t=(t,a,o)=>{for(;e.indexOf(t)>-1;)e=n[a]?e.replace(t,`<${o}>`):e.replace(t,`</${o}>`),n[a]=!n[a]};return t('"',"quote","q"),t("**","bold","b"),t("*","italic","i"),e=e.trim()};